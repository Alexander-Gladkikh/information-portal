"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[231],{8231:function(e,t,a){a.d(t,{D0:function(){return q},wD:function(){return Q},$B:function(){return f},xT:function(){return le},Iq:function(){return b},XL:function(){return de},GA:function(){return E},Vv:function(){return ne},wq:function(){return D.wq}});var s,r=a(2327),c=a(7294),n=a(743),i=a(3007),l=a(1233),o=a(5401),h=a(1715),d=a(3312),m=a(2949);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},v.apply(this,arguments)}var u,x,g=e=>c.createElement("svg",v({width:20,height:20,xmlns:"http://www.w3.org/2000/svg"},e),s||(s=c.createElement("path",{d:"M18.402 9.496c-1.851-3.9-4.65-5.863-8.402-5.863-3.754 0-6.55 1.963-8.402 5.865a1.178 1.178 0 0 0 0 1.006c1.851 3.9 4.65 5.863 8.402 5.863 3.754 0 6.55-1.963 8.402-5.865.15-.317.15-.684 0-1.006ZM10 14.961c-3.15 0-5.457-1.598-7.084-4.961C4.543 6.637 6.85 5.04 10 5.04c3.15 0 5.457 1.597 7.084 4.96-1.625 3.363-3.932 4.96-7.084 4.96Zm-.078-8.399a3.438 3.438 0 1 0 0 6.876 3.438 3.438 0 0 0 0-6.876Zm0 5.625A2.186 2.186 0 0 1 7.734 10c0-1.209.979-2.188 2.188-2.188s2.187.979 2.187 2.188a2.186 2.186 0 0 1-2.187 2.188Z"})));function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},j.apply(this,arguments)}var p=e=>c.createElement("svg",j({width:20,height:20,xmlns:"http://www.w3.org/2000/svg"},e),u||(u=c.createElement("path",{d:"M17.917 3.333H16.11v1.111h1.667v12.223H2.222V4.444H3.89v-1.11H2.083a.989.989 0 0 0-.972 1.005v12.433a.988.988 0 0 0 .972 1.006h15.834a.99.99 0 0 0 .972-1.006V4.34a.988.988 0 0 0-.972-1.006Z"})),x||(x=c.createElement("path",{d:"M4.444 7.778h1.111v1.11h-1.11v-1.11ZM7.778 7.778h1.11v1.11h-1.11v-1.11ZM11.111 7.778h1.111v1.11h-1.11v-1.11ZM14.444 7.778h1.111v1.11h-1.11v-1.11ZM4.444 10.556h1.111v1.11h-1.11v-1.11ZM7.778 10.556h1.11v1.11h-1.11v-1.11ZM11.111 10.556h1.111v1.11h-1.11v-1.11ZM14.444 10.556h1.111v1.11h-1.11v-1.11ZM4.444 13.333h1.111v1.111h-1.11v-1.11ZM7.778 13.333h1.11v1.111h-1.11v-1.11ZM11.111 13.333h1.111v1.111h-1.11v-1.11ZM14.444 13.333h1.111v1.111h-1.11v-1.11ZM5.556 5.556A.556.556 0 0 0 6.11 5V1.667a.556.556 0 1 0-1.111 0V5a.556.556 0 0 0 .556.556ZM14.444 5.556A.556.556 0 0 0 15 5V1.667a.555.555 0 1 0-1.111 0V5a.555.555 0 0 0 .556.556ZM7.222 3.333h5.556v1.111H7.222v-1.11Z"}))),N=a(3895),w=a(2047);let f=function(e){return e.VIEW="views",e.TITLE="title",e.CREATED="createdAt",e}({}),A=function(e){return e.CODE="CODE",e.IMAGE="IMAGE",e.TEXT="TEXT",e}({}),b=function(e){return e.ALL="ALL",e.IT="IT",e.SCIENCE="SCIENCE",e.ECONOMICS="ECONOMICS",e}({}),E=function(e){return e.BIG="BIG",e.SMALL="SMALL",e}({});var O;function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},L.apply(this,arguments)}var C=e=>c.createElement("svg",L({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O||(O=c.createElement("path",{d:"M16.2 5V1H1v15.2h4L16.2 5Zm-10.4.8V21H21V5.8H5.8Z",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),M=a(5255),I=a(5893);const k=(0,c.memo)((e=>{const{className:t,text:a}=e,s=(0,c.useCallback)((()=>{navigator.clipboard.writeText(a)}),[a]);return(0,I.jsxs)("pre",{className:(0,i.A)("EGVBrTRk",{},[t]),children:[(0,I.jsx)(M.zx,{onClick:s,className:"x9B5cNnv",theme:M.bn.CLEAR,children:(0,I.jsx)(C,{className:"ADwPP7Jp"})}),(0,I.jsx)("code",{children:a})]})}));const Z=(0,c.memo)((e=>{const{className:t,block:a}=e,{t:s}=(0,r.$)();return(0,I.jsx)("div",{className:(0,i.A)("OpzK0VPf",{},[t]),children:(0,I.jsx)(k,{text:a.code})})}));var T={img:"Pr2NTJfR"};const y=(0,c.memo)((e=>{const{className:t,block:a}=e,{t:s}=(0,r.$)();return(0,I.jsxs)("div",{className:(0,i.A)(T.ArticleImageBlockComponent,{},[t]),children:[(0,I.jsx)("img",{src:a.src,alt:a.title,className:T.img}),a.title&&(0,I.jsx)(h.xv,{title:a.title,align:h.PH.CENTER})]})}));var S={title:"BHmndKmm",paragraph:"tLIzh4YH"};const V=(0,c.memo)((e=>{const{className:t,block:a}=e,{t:s}=(0,r.$)();return(0,I.jsxs)("div",{className:(0,i.A)(S.ArticleTextBlockComponent,{},[t]),children:[a.title&&(0,I.jsx)(h.xv,{title:a.title,className:S.title}),a.paragraphs.map((e=>(0,I.jsx)(h.xv,{text:e,className:S.paragraph},e)))]})}));var D=a(3918),B=a(4268);const H=(0,B.hg)("articleDetails/fetchArticleById",(async(e,t)=>{const{extra:a,rejectWithValue:s}=t;try{if(!e)throw new Error;const t=await a.api.get(`/articles/${e}`,{params:{_expand:"user"}});if(!t.data)throw new Error;return t.data}catch(e){return console.log(e),s("error")}}));var R={ArticleDetails:"MxWQIGLi",avatar:"WDmBKEor"};const W=(0,B.oM)({name:"articleDetails",initialState:{isLoading:!1,error:void 0,data:void 0},reducers:{},extraReducers:e=>{e.addCase(H.pending,(e=>{e.error=void 0,e.isLoading=!0})).addCase(H.fulfilled,((e,t)=>{e.isLoading=!1,e.data=t.payload})).addCase(H.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{actions:G}=W,{reducer:z}=W,P={articleDetails:z},q=(0,c.memo)((e=>{const{className:t,id:a}=e,{t:s}=(0,r.$)(),v=(0,o.T)(),u=(0,n.v9)(D.Ok),x=(0,n.v9)(D.zc),j=(0,n.v9)(D.wq),f=(0,c.useCallback)((e=>{switch(e.type){case A.CODE:return(0,I.jsx)(Z,{className:R.block,block:e},e.id);case A.IMAGE:return(0,I.jsx)(y,{className:R.block,block:e},e.id);case A.TEXT:return(0,I.jsx)(V,{className:R.block,block:e},e.id);default:return null}}),[]);let b;return(0,c.useEffect)((()=>{v(H(a))}),[v,a]),b=u?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(d.O,{className:R.avatar,width:200,height:200,border:"50%"}),(0,I.jsx)(d.O,{className:R.title,width:300,height:32}),(0,I.jsx)(d.O,{className:R.skeleton,width:600,height:24}),(0,I.jsx)(d.O,{className:R.skeleton,width:"100%",height:200}),(0,I.jsx)(d.O,{className:R.skeleton,width:"100%",height:200})]}):x?(0,I.jsx)(h.xv,{align:h.PH.CENTER,title:s("Произошла ошибка при загрузке статьи")}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(w.U,{justify:"center",max:!0,className:R.avatarWrapper,children:(0,I.jsx)(m.q,{size:200,src:j?.img,className:R.avatar})}),(0,I.jsxs)(w.g,{gap:"4",max:!0,children:[(0,I.jsx)(h.xv,{className:R.title,title:j?.title,text:j?.subtitle,size:h.yH.L}),(0,I.jsxs)(w.U,{gap:"8",className:R.articleInfo,children:[(0,I.jsx)(N.J,{className:R.icon,Svg:g}),(0,I.jsx)(h.xv,{text:String(j?.views)})]}),(0,I.jsxs)(w.U,{gap:"8",className:R.articleInfo,children:[(0,I.jsx)(N.J,{className:R.icon,Svg:p}),(0,I.jsx)(h.xv,{text:j?.createdAt})]})]}),j?.blocks.map(f)]}),(0,I.jsx)(l.W,{reducers:P,removeAfterUnmount:!0,children:(0,I.jsx)(w.g,{gap:"16",max:!0,className:(0,i.A)(R.ArticleDetails,{},[t]),children:b})})}));var $=a(6425),J={BIG:"JApwHNdC",view:"qjm2qBqx",header:"dwZR2QFa",username:"qqjY3IRX",date:"gzcu7DmY",title:"gvCBzE5L",img:"trLYSQ7F",footer:"sXa5L34T",textBlock:"JGwHSPVM",SMALL:"Qb8dn0co",imageWrapper:"dOeIdIHt",infoWrapper:"sm3cbRbR",types:"ZhtaCnW5"};const X=(0,c.memo)((e=>{const{className:t,view:a}=e;return a===E.BIG?(0,I.jsx)("div",{className:(0,i.A)(J.ArticleListItem,{},[t,J[a]]),children:(0,I.jsxs)($.Z,{className:J.card,children:[(0,I.jsxs)("div",{className:J.header,children:[(0,I.jsx)(d.O,{border:"50%",width:30,height:30}),(0,I.jsx)(d.O,{width:150,height:16,className:J.username}),(0,I.jsx)(d.O,{width:150,height:16,className:J.date})]}),(0,I.jsx)(d.O,{width:250,height:24,className:J.title}),(0,I.jsx)(d.O,{height:200,className:J.img}),(0,I.jsx)("div",{className:J.footer,children:(0,I.jsx)(d.O,{width:200,height:36})})]})}):(0,I.jsx)("div",{className:(0,i.A)(J.ArticleListItem,{},[t,J[a]]),children:(0,I.jsxs)($.Z,{className:J.card,children:[(0,I.jsx)("div",{className:J.imageWrapper,children:(0,I.jsx)(d.O,{width:200,height:200,className:J.img})}),(0,I.jsx)("div",{className:J.infoWrapper,children:(0,I.jsx)(d.O,{width:130,height:16})}),(0,I.jsx)(d.O,{width:150,height:16,className:J.title})]})})}));var F=a(5693),U=a(6897);const Y=(0,c.memo)((e=>{const{className:t,view:a,article:s,target:c}=e,{t:n}=(0,r.$)(),l=(0,I.jsx)(h.xv,{text:s.type.join(", "),className:J.types}),o=(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.xv,{text:String(s.views),className:J.view}),(0,I.jsx)(N.J,{Svg:g})]});if(a===E.BIG){const e=s.blocks.find((e=>e.type===A.TEXT));return(0,I.jsx)("div",{className:(0,i.A)(J.ArticleListItem,{},[t,J[a]]),children:(0,I.jsxs)($.Z,{className:J.card,children:[(0,I.jsxs)("div",{className:J.header,children:[(0,I.jsx)(m.q,{size:30,src:s.user.avatar}),(0,I.jsx)(h.xv,{text:s.user.username,className:J.username}),(0,I.jsx)(h.xv,{text:s.createdAt,className:J.date})]}),(0,I.jsx)(h.xv,{title:s.title,className:J.title}),l,(0,I.jsx)("img",{src:s.img,className:J.img,alt:s.title}),e&&(0,I.jsx)(V,{block:e,className:J.textBlock}),(0,I.jsxs)("div",{className:J.footer,children:[(0,I.jsx)(U.F,{target:c,to:F.h3.article_details+s.id,children:(0,I.jsx)(M.zx,{theme:M.bn.OUTLINE,children:"Читать далее..."})}),o]})]})})}return(0,I.jsx)(U.F,{target:c,to:F.h3.article_details+s.id,className:(0,i.A)(J.ArticleListItem,{},[t,J[a]]),children:(0,I.jsxs)($.Z,{className:J.card,children:[(0,I.jsxs)("div",{className:J.imageWrapper,children:[(0,I.jsx)("img",{alt:s.title,src:s.img,className:J.img}),(0,I.jsx)(h.xv,{text:s.createdAt,className:J.date})]}),(0,I.jsxs)("div",{className:J.infoWrapper,children:[l,o]}),(0,I.jsx)(h.xv,{text:s.title,className:J.title})]})})}));var _={card:"I6tD17AJ",BIG:"Mc9MfBno",SMALL:"rJddBpYU"};const K=e=>new Array(e===E.SMALL?9:3).fill(0).map(((t,a)=>(0,I.jsx)(X,{className:_.card,view:e},a))),Q=(0,c.memo)((e=>{const{className:t,articles:a,view:s=E.SMALL,isLoading:c,target:n}=e,{t:l}=(0,r.$)();return c||a.length?(0,I.jsxs)("div",{className:(0,i.A)(_.ArticleList,{},[t,_[s]]),children:[a.length>0?a.map((e=>(0,I.jsx)(Y,{article:e,view:s,className:_.card,target:n},e.id))):null,c&&K(s)]}):(0,I.jsx)("div",{className:(0,i.A)(_.ArticleList,{},[t,_[s]]),children:(0,I.jsx)(h.xv,{size:h.yH.L,title:l("Статьи не найдены")})})}));var ee;function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},te.apply(this,arguments)}var ae;function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},se.apply(this,arguments)}var re={notSelected:"a0vVlVuW"};const ce=[{view:E.SMALL,icon:e=>c.createElement("svg",se({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),ae||(ae=c.createElement("path",{d:"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm7 9v5h5v-5h-5Zm-7 0v5h5v-5H6Zm7-7v5h5V6h-5ZM6 6v5h5V6H6Z"})))},{view:E.BIG,icon:e=>c.createElement("svg",te({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),ee||(ee=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 18a.75.75 0 0 1 .75-.75h15a.75.75 0 1 1 0 1.5h-15a.75.75 0 0 1-.75-.75Zm0-6a.75.75 0 0 1 .75-.75h15a.75.75 0 1 1 0 1.5h-15a.75.75 0 0 1-.75-.75Zm0-6a.75.75 0 0 1 .75-.75h15a.75.75 0 1 1 0 1.5h-15A.75.75 0 0 1 3.75 6Z"})))}],ne=(0,c.memo)((e=>{const{className:t,view:a,onViewClick:s}=e;return(0,I.jsx)("div",{className:(0,i.A)(re.ArticleViewSelector,{},[t]),children:ce.map((e=>{return(0,I.jsx)(M.zx,{theme:M.bn.CLEAR,onClick:(t=e.view,()=>{s?.(t)}),children:(0,I.jsx)(N.J,{Svg:e.icon,className:(0,i.A)("",{[re.notSelected]:e.view!==a})})},e.view);var t}))})}));const ie=e=>{const{className:t,label:a,options:s,value:r,onChange:n,readonly:l}=e,o=(0,c.useMemo)((()=>s?.map((e=>(0,I.jsx)("option",{className:"JkXz98qY",value:e.value,children:e.content},e.value)))),[s]);return(0,I.jsxs)("div",{className:(0,i.A)("cidfdn6H",{},[t]),children:[a&&(0,I.jsx)("span",{className:"G1uuf7Bp",children:`${a}>`}),(0,I.jsx)("select",{disabled:l,className:"VOKOuKGo",value:r,onChange:e=>{n?.(e.target.value)},children:o})]})};ie.displayName="Select";const le=(0,c.memo)((e=>{const{className:t,onChangeSort:a,sort:s,onChangeOrder:n,order:l}=e,{t:o}=(0,r.$)(),h=(0,c.useMemo)((()=>[{value:"asc",content:o("возрастанию")},{value:"desc",content:o("убыванию")}]),[o]),d=(0,c.useMemo)((()=>[{value:f.CREATED,content:o("дате создания")},{value:f.TITLE,content:o("названию")},{value:f.VIEW,content:o("просмотрам")}]),[o]);return(0,I.jsxs)("div",{className:(0,i.A)("gSPXPxAR",{},[t]),children:[(0,I.jsx)(ie,{options:d,label:o("Сортировать ПО"),value:s,onChange:a}),(0,I.jsx)(ie,{options:h,label:o("по"),value:l,onChange:n,className:"Fez_9DSn"})]})}));var oe={Tabs:"bXYDRoXv"};const he=(0,c.memo)((e=>{const{className:t,tabs:a,onTabClick:s,value:r}=e,n=(0,c.useCallback)((e=>()=>{s(e)}),[s]);return(0,I.jsx)("div",{className:(0,i.A)(oe.Tabs,{},[t]),children:a.map((e=>(0,I.jsx)($.Z,{theme:e.value===r?$.r.NORMAL:$.r.OUTLINED,className:oe.tab,onClick:n(e),children:e.content},e.value)))})})),de=(0,c.memo)((e=>{const{className:t,value:a,onChangeType:s}=e,{t:n}=(0,r.$)(),l=(0,c.useMemo)((()=>[{value:b.ALL,content:n("Все статьи")},{value:b.IT,content:n("Айти")},{value:b.ECONOMICS,content:n("Экономика")},{value:b.SCIENCE,content:n("Наука")}]),[n]),o=(0,c.useCallback)((e=>{s(e.value)}),[s]);return(0,I.jsx)(he,{tabs:l,value:a,onTabClick:o,className:(0,i.A)("",{},[t])})}))},3918:function(e,t,a){a.d(t,{Ok:function(){return r},wq:function(){return s},zc:function(){return c}});const s=e=>e.articleDetails?.data,r=e=>e.articleDetails?.isLoading||!1,c=e=>e.articleDetails?.error},1233:function(e,t,a){a.d(t,{W:function(){return n}});var s=a(7294),r=a(743),c=a(5893);const n=e=>{const{children:t,reducers:a,removeAfterUnmount:n=!0}=e,i=(0,r.oR)(),l=(0,r.I0)();return(0,s.useEffect)((()=>{const e=i.reducerManager.getMountedReducers();return Object.entries(a).forEach((t=>{let[a,s]=t;e[a]||(i.reducerManager.add(a,s),l({type:`@INIT ${a} reducer`}))})),()=>{n&&Object.entries(a).forEach((e=>{let[t,a]=e;i.reducerManager.remove(t),l({type:`@DESTROY ${t} reducer`})}))}}),[]),(0,c.jsx)(c.Fragment,{children:t})}}}]);